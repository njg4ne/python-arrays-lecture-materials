<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Emoji Jumbotron Grid</title>
    <style>
      * {
        box-sizing: border-box;
      }
      html,
      body {
        color-scheme: dark;
        font-size: larger;
        font-family: system-ui, sans-serif;
        margin: 0;
        padding: 0;
        min-height: 100dvh;
        display: flex;
        align-items: center;
        background: black;
        cursor: crosshair;
        flex-direction: column;
        margin: 2rem;
      }
      main {
        display: grid;
        grid-template-rows: repeat(9, 1fr);
        grid-template-columns: repeat(16, 1fr);
        width: min-content;
        row-gap: 6px;
      }
      .cell {
        font-size: xx-large;
        line-height: 1;
      }
    </style>
  </head>
  <body>
    <h1>Jumbotron Simulator</h1>
    <p>
      The art students at a local high school want to make animations on the
      football field's jumbotron. It is a 9x16 pixel screen. Simulate animation
      functions that draw and remove a variable width border and move a dot
      randomly around the screen.
    </p>
    <main></main>

    <script>
      const ON = "⬜";
      const OFF = "⬛";
      const rows = 9,
        cols = 16;
      const grid = document.body.querySelector("main");
      let state = Array.from({ length: rows }, () => Array(cols).fill(false));
      function render() {
        grid.innerHTML = "";
        for (let r = 0; r < rows; r++) {
          for (let c = 0; c < cols; c++) {
            const cell = document.createElement("div");
            cell.className = "cell";
            cell.textContent = state[r][c] ? ON : OFF;
            cell.dataset.r = r;
            cell.dataset.c = c;
            // Click to flip
            cell.addEventListener("click", () => {
              flip(r, c);
            });
            grid.appendChild(cell);
          }
        }
      }
      // Removed mouseDown logic for click-and-drag

      function flip(r, c) {
        state[r][c] = !state[r][c];
        render();
      }

      grid.addEventListener("mouseover", (e) => {
        // Only act if mouse is over a cell
        const cell = e.target.closest(".cell");
        if (!cell) return;
        // Only act if mouse button is held down

        const r = cell.dataset.r,
          c = cell.dataset.c;
        if (e.ctrlKey && e.shiftKey) {
          state[r][c] = false;
        } else if (e.ctrlKey) {
          state[r][c] = true;
        }
        render();
      });

      render();
    </script>
  </body>
</html>
